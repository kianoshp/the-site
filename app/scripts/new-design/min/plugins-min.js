!function(){for(var e,t=function(){},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],a=r.length,i=window.console=window.console||{};a--;)e=r[a],i[e]||(i[e]=t)}(),function(e){e.fn.rssfeed=function(a,i,o){return i=e.extend({limit:10,offset:1,header:!0,titletag:"h4",date:!0,dateformat:"datetime",content:!0,snippet:!0,media:!0,showerror:!0,errormsg:"",key:null,ssl:!1,linktarget:"_self",linkredirect:"",linkcontent:!1,sort:"",sortasc:!0,historical:!1},i),this.each(function(n,s){var l=e(s),d="";return i.ssl&&(d="s"),l.hasClass("rssFeed")||l.addClass("rssFeed"),null==a?!1:(0<i.offset&&(i.offset-=1),i.limit+=i.offset,d="http"+d+"://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURIComponent(a),d+="&num="+i.limit,i.historical&&(d+="&scoring=h"),null!=i.key&&(d+="&key="+i.key),void e.getJSON(d+"&output=json_xml",function(a){if(200==a.responseStatus){var n=a.responseData,d=i;if(a=n.feed){var c=[],h=0,m="",f="odd";if(d.media){var u=n.xmlString;"Microsoft Internet Explorer"==navigator.appName?(h=new ActiveXObject("Microsoft.XMLDOM"),h.async="false",h.loadXML(u)):h=(new DOMParser).parseFromString(u,"text/xml"),u=h.getElementsByTagName("item")}for(d.header&&(m+='<div class="rssHeader"><a href="'+a.link+'" title="'+a.description+'">'+a.title+"</a></div>"),m+='<div class="rssBody"><ul>',n=d.offset;n<a.entries.length;n++){h=n-d.offset,c[h]=[];var p=a.entries[n],g,M="",v=p.link;switch(d.sort){case"title":M=p.title;break;case"date":M=p.publishedDate}if(c[h].sort=M,p.publishedDate)switch(M=new Date(p.publishedDate),g=M.toLocaleDateString()+" "+M.toLocaleTimeString(),d.dateformat){case"datetime":break;case"date":g=M.toLocaleDateString();break;case"time":g=M.toLocaleTimeString();break;case"timeline":g=new Date(M),g=Math.round(((new Date).getTime()-g.getTime())/1e3),60>g?g="< 1 min":(3600>g?(g=Math.round(g/60)-1,M="min"):86400>g?(g=Math.round(g/3600)-1,M="hour"):604800>g?(g=Math.round(g/86400)-1,M="day"):(g=Math.round(g/604800)-1,M="week"),g>1&&(M+="s"),g=g+" "+M);break;default:g=M,M=new Date(g),g=d.dateformat,g=g.replace("dd",t(M.getDate())),g=g.replace("MMMM",r(M.getMonth())),g=g.replace("MM",t(M.getMonth()+1)),g=g.replace("yyyy",M.getFullYear()),g=g.replace("hh",t(M.getHours())),g=g.replace("mm",t(M.getMinutes())),g=g.replace("ss",t(M.getSeconds()))}if(d.linkredirect&&(v=encodeURIComponent(v)),c[h].html="<"+d.titletag+'><a href="'+d.linkredirect+v+'" title="View this feed at '+a.title+'">'+p.title+"</a></"+d.titletag+">",d.date&&g&&(c[h].html+="<div>"+g+"</div>"),d.content&&(p=d.snippet&&""!=p.contentSnippet?p.contentSnippet:p.content,d.linkcontent&&(p='<a href="'+d.linkredirect+v+'" title="View this feed at '+a.title+'">'+p+"</a>"),c[h].html+="<p>"+p+"</p>"),d.media&&0<u.length&&(v=u[n].getElementsByTagName("enclosure"),0<v.length)){for(c[h].html+='<div class="rssMedia"><div>Media files</div><ul>',p=0;p<v.length;p++){var w=v[p].getAttribute("url"),k=v[p].getAttribute("type"),b=v[p].getAttribute("length"),M=c[h],D=c[h].html,w='<li><a href="'+w+'" title="Download this media">'+w.split("/").pop()+"</a> ("+k+", ",k=Math.floor(Math.log(b)/Math.log(1024)),b=(b/Math.pow(1024,Math.floor(k))).toFixed(2)+" "+"bytes kb MB GB TB PB".split(" ")[k];M.html=D+(w+b+")</li>")}c[h].html+="</ul></div>"}}d.sort&&c.sort(function(e,t){if(d.sortasc)var r=e.sort,a=t.sort;else r=t.sort,a=e.sort;return"date"==d.sort?new Date(r)-new Date(a):(r=r.toLowerCase(),a=a.toLowerCase(),a>r?-1:r>a?1:0)}),e.each(c,function(e){m+='<li class="rssRow '+f+'">'+c[e].html+"</li>",f="odd"==f?"even":"odd"}),m+="</ul></div>",e(s).html(m),e("a",s).attr("target",d.linktarget)}e.isFunction(o)&&o.call(this,l)}else i.showerror&&(h=""!=i.errormsg?i.errormsg:a.responseDetails),e(s).html('<div class="rssError"><p>'+h+"</p></div>")}))})};var t=function(e){return e+="",2>e.length&&(e="0"+e),e},r=function(e){return"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[e]}}(jQuery);