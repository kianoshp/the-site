// MIXINS
@mixin bp($media) {
	@if $media == small {
		@media only screen and (max-width: map-get($breakpoints,small) ) { @content; }
	}
	@else if $media == medium_down {
		@media all and (max-width: map-get($breakpoints,medium)) { @content; }
	}
	@else if $media == medium {
		@media all and (min-width: (map-get($breakpoints,small)+1) ) and (max-width: map-get($breakpoints,medium)) { @content; }
	}
	@else if $media == medium_up {
		@media all and (min-width: (map-get($breakpoints,small)+1) ) { @content; }
	}
	@else if $media == large_down {
		@media all and (max-width: map-get($breakpoints,large)) { @content; }
	}
	@else if $media == large {
		@media all and (min-width: (map-get($breakpoints,medium)+1) ) and (max-width: map-get($breakpoints,large)) { @content; }
	}
}

@mixin arrow($direction: down, $size: 20px, $color: #bada55) {
	width: 0;
	height: 0;


	@if ($direction == 'left' or 'right') {
		border-top: u($size) solid transparent;
		border-bottom: u($size) solid transparent;

		@if ($direction == 'left') {
			border-right: u($size) solid $color;
		}

		@else if ($direction == 'right') {
			border-left: u($size) solid $color;
		}
	}

	@else if ($direction == 'up' or 'down') {
		border-left: u($size) solid transparent;
		border-right: u($size) solid transparent;

		@if ($direction == 'up') {
			border-bottom: u($size) solid $color;
		}

		@else if ($direction == 'down') {
			border-top: u($size) solid $color;
		}
	}

}

// UNIT CONVERSION
// from : http://davidwalsh.name/rem-px-browser-function-sass

$pixelBase : 16;

@function parseInt($n) {
	@return $n / ($n * 0 + 1);
}



@function u($values){

	$list: ();

	@each $value in $values {
				
				$unit : unit($value);
				$val  : parseInt($value);

				@if ($px-only) and (($unit == 'px') or ($unit == 'rem')) {
					
					@if ($unit == 'px') {
						$list: append($list, $value);
					}

					@else {
						$list: append($list, ($val * $pixelBase) + px);
					}
				}

				@elseif ($unit == 'px') or ($unit == 'rem') {
					
					@if ($unit == 'px') {
						// conver the px value into a rem value
						// if the unit is pixels and we are not pixel only - convert the pixels to rems;
						// 160px = 16px * 10 -- thus divide the incoming px value by the $pixelBase to get the rem value

						$list: append($list, ($val/$pixelBase) + rem);
					}

					@else {
						$list: append($list, $value);
					}
				}

				@else {
							@warn 'There is no unit conversion for #{$unit}';
				}

	}

	@return $list();

}

// THIS WILL MAKE A SPRITE FOR YOU!
// @function sprite($image, $image-width, $image-height, $icon-width, $icon-height, $class) {
// 	$width-iterations: $image-width / $icon-width;
// 	$height-iterations: $image-height / $icon-height;

// 	@for $i from 1 through $width-iterations {
// 		.#{$class} {
// 			background-image: $image;
// 			background-position: 
// 		}
// 	}
// }

@mixin zero_out {
	margin: 0;
	padding: 0;
}

@mixin clearfix {
	&:before,
	&:after {
	    content: " "; /* 1 */
	    display: table; /* 2 */
	}

	&:after {
	    clear: both;
	}
}

@mixin vertical_align {
  position: relative;
  top: 50%;
  -webkit-transform: translateY(-50%) !important;
  -ms-transform: translateY(-50%) !important;
  transform: translateY(-50%) !important;
}

@mixin full_width {
	width: 100%;
	display: block;
	position: relative;
}

@mixin flat_list {
	@include zero_out();
	list-style-type: none;
	li {
		float: none;
		position: relative;
	}
}

@mixin inline_list($float: left, $margin: 0, $padding: 0, $li-float: left, $li-margin: 0, $li-padding: 0) {
	@include zero_out();
	list-style-type: none;
	margin: $margin;
	padding: $padding;
	float: $float;
	li {
		margin: $li-margin;
		padding: $li-padding;
		float: $li-float;
		position: relative;
	}
}

@mixin opacity($opacity) {
	opacity: $opacity;
	$opacity-ie: $opacity * 100;
	filter: alpha(opacity=$opacity-ie); //IE8
}

@mixin center_block {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

// Absolute Positioning
@mixin abs_pos ($top: auto, $right: auto, $bottom: auto, $left: auto) {
	position: absolute;
  	top: $top;
  	right: $right;
	bottom: $bottom;
	left: $left;
}

// Header Lines
@mixin header_line($top: 0.5em) {
    display: table;
    white-space: nowrap;
    &:before, &:after {
    	content: '';
      	border-top: 2px solid $white;
      	width: 50%;
      	display: table-cell;
      	position: relative;
      	top: $top;
    }
    &:before { 
    	right: 1.5%; 
    }
    &:after { 
    	left: 1.5%; 
    }
}

@mixin circle($width, $color) {
  width: $width;
  height: $width;
  background: $color;
  -webkit-border-radius: $width/2;
     -moz-border-radius: $width/2;
          border-radius: $width/2;
}

// FUNCTIONS
@function black($opacity) {
 	@return rgba(black, $opacity)
}

@function white($opacity) {
 	@return rgba(white, $opacity)
}

